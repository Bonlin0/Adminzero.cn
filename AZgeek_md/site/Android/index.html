



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="ja">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Android - AZ_geek</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#android" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="AZ_geek" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              AZ_geek
            </span>
            <span class="md-header-nav__topic">
              
                Android
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="AZ_geek" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    AZ_geek
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Manual_of_Mkdocs/" title="Mkdocs manual" class="md-nav__link">
      Mkdocs manual
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../handwriting/" title="Handwriting blog" class="md-nav__link">
      Handwriting blog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../calculator/" title="calculator" class="md-nav__link">
      calculator
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Android
      </label>
    
    <a href="./" title="Android" class="md-nav__link md-nav__link--active">
      Android
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gradle-gradle-sync-project-failed" class="md-nav__link">
    Gradle 下载依赖不稳定、Gradle Sync project failed 解决方案
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    活动生命周期
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    安卓网络编程
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    安卓图标大小及更换
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#and" class="md-nav__link">
    安卓字符串中的and符号
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    安卓自动填充服务
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawable-mipmap" class="md-nav__link">
    安卓的图像资源： drawable 和 mipmap
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#android-material-icon" class="md-nav__link">
    Android Material Icon
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fonts-and-fontfamily" class="md-nav__link">
    关于字体 fonts and fontFamily
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#button-onclick" class="md-nav__link">
    button 和 onclick
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewpager-bottomnavigationview-fragment" class="md-nav__link">
    ViewPager, BottomNavigationView, Fragment 整合
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#listview-onitemclicklistener" class="md-nav__link">
    ListView 的 OnItemClickListener 不响应
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../zhigedesign/" title="Zhige design" class="md-nav__link">
      Zhige design
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LinuxNotes/" title="Linux" class="md-nav__link">
      Linux
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../PBClearn/" title="PBC" class="md-nav__link">
      PBC
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Pygame/" title="Pygame" class="md-nav__link">
      Pygame
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../spider/" title="Web Spider" class="md-nav__link">
      Web Spider
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Research/" title="Research" class="md-nav__link">
      Research
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Web/" title="Web stuff" class="md-nav__link">
      Web stuff
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Misc/" title="Misc" class="md-nav__link">
      Misc
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LanguageLearning/" title="LanguageLearning" class="md-nav__link">
      LanguageLearning
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gradle-gradle-sync-project-failed" class="md-nav__link">
    Gradle 下载依赖不稳定、Gradle Sync project failed 解决方案
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    活动生命周期
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    安卓网络编程
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    安卓图标大小及更换
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#and" class="md-nav__link">
    安卓字符串中的and符号
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    安卓自动填充服务
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drawable-mipmap" class="md-nav__link">
    安卓的图像资源： drawable 和 mipmap
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#android-material-icon" class="md-nav__link">
    Android Material Icon
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fonts-and-fontfamily" class="md-nav__link">
    关于字体 fonts and fontFamily
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#button-onclick" class="md-nav__link">
    button 和 onclick
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewpager-bottomnavigationview-fragment" class="md-nav__link">
    ViewPager, BottomNavigationView, Fragment 整合
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#listview-onitemclicklistener" class="md-nav__link">
    ListView 的 OnItemClickListener 不响应
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="android">Android 开发笔记<a class="headerlink" href="#android" title="Permanent link">&para;</a></h1>
<h2 id="gradle-gradle-sync-project-failed">Gradle 下载依赖不稳定、Gradle Sync project failed 解决方案<a class="headerlink" href="#gradle-gradle-sync-project-failed" title="Permanent link">&para;</a></h2>
<p><code>File</code> - <code>Settings</code> ， 搜索 <code>Remote Jar Repositories</code> ， 点击右方 <code>Add</code> 按钮，将以下两个 URL 依次加入。</p>
<p><a href="http://maven.oschina.net/content/groups/public/">http://maven.oschina.net/content/groups/public/</a></p>
<p><a href="http://maven.aliyun.com/nexus/content/groups/public">http://maven.aliyun.com/nexus/content/groups/public</a></p>
<p>点击 <code>OK</code> 确认，下载速度就可以提高几个量级！感谢开源中国与阿里云的镜像服务！</p>
<h2 id="_1">活动生命周期<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>方法</th>
<th>何时调用</th>
<th>下一个方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>onCreate()</td>
<td>活动第一次创建时调用这个方法。用于正常的静态设置，如创建视图。它还可以传递一个Bundle，其中包含之前保存的活动状态。</td>
<td>onStart()</td>
</tr>
<tr>
<td>onRestart()</td>
<td>活动停止并再次启动之前会调用这个方法。</td>
<td>onStart()</td>
</tr>
<tr>
<td>onStart()</td>
<td>活动变得可见时调用这个方法。如果活动进入前台，接下来会调用onResume(),如果活动变得不可见，接下来会调用onStop()。</td>
<td>onResume()或onStop()</td>
</tr>
<tr>
<td>onResume()</td>
<td>活动在前台时调用这个方法。</td>
<td>onPause()</td>
</tr>
<tr>
<td>onPause()</td>
<td>由于另一个活动恢复运行而导致这个活动不再在前台时调用这个方法。在这个方法完成之前，不会恢复继续运行时下一个活动。所以这个方法中的所有代码需要很快地运行。如果活动返回到前台，接下来会调用onResume()方法，如果活动变得不可见，接下来会调用onStop()。</td>
<td>onResume()或onStop()</td>
</tr>
<tr>
<td>onStop()</td>
<td>活动不再可见时调用这个方法。这可能是因为拎一个活动把它盖住了，或者是因为这个活动被撤销，接下来会调用onRestart(),或者如果活动将被撤销，接下来将会调用onDestroy()。</td>
<td>onRestart()或onDestroy()</td>
</tr>
<tr>
<td>onDestroy()</td>
<td>活动将被撤销或者活动将要完成时会调用这个方法。</td>
<td>无</td>
</tr>
</tbody>
</table>
<h2 id="_2">安卓网络编程<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<ol>
<li>安卓主线程不能用Socket！</li>
<li>安卓只能用主线程更新视图！</li>
<li>安卓的服务如果直接使用Socket也会得到主线程不能使用Socket的异常！</li>
<li>直接使用Handler处理网络也会得到主线程不能使用Socket的异常！</li>
</ol>
<h2 id="_3">安卓图标大小及更换<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>安卓图标位于<code>src\main\res\</code>下，有对应表格如下</p>
<table>
<thead>
<tr>
<th>文件夹</th>
<th>图标尺寸</th>
</tr>
</thead>
<tbody>
<tr>
<td>mipmap-mdpi</td>
<td>48*48</td>
</tr>
<tr>
<td>mipmap-hdpi</td>
<td>72*72</td>
</tr>
<tr>
<td>mipmap-xhdpi</td>
<td>96*96</td>
</tr>
<tr>
<td>mipmap-xxhdpi</td>
<td>144*144</td>
</tr>
<tr>
<td>mipmap-xxxhdpi</td>
<td>192*192</td>
</tr>
</tbody>
</table>
<h2 id="and">安卓字符串中的and符号<a class="headerlink" href="#and" title="Permanent link">&para;</a></h2>
<p>遇到报错信息<code>Unescaped &amp; or nonterminated character/entity reference</code>, <code>&amp;</code>需要改写为<code>&amp;amp;</code>。</p>
<h2 id="_4">安卓自动填充服务<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p><a href="https://developer.android.google.cn/guide/topics/text/autofill.html#custom_views_with_standard_view_structure">https://developer.android.google.cn/guide/topics/text/autofill.html#custom_views_with_standard_view_structure</a></p>
<p><a href="https://developer.android.google.cn/guide/topics/text/autofill-services">https://developer.android.google.cn/guide/topics/text/autofill-services</a></p>
<p>以下内容翻译自第二个网址。</p>
<p>要实现自动填充服务，必须声明并实现该服务。你的manifest文件中必须要有<code>&lt;service&gt;</code>元素，且该元素要包括以下属性。</p>
<ul>
<li><code>android:name</code> 实现了<code>AutofillService</code>的子类.</li>
<li><code>android:permission</code> 需要声明 <code>BIND_AUTOFILL_SERVICE</code></li>
<li><code>intent-filter</code>元素包括强制<code>&lt;action&gt;</code>赋值<code>android.service.autofill.AutofillService</code></li>
</ul>
<p>以下为示例代码</p>
<div class="codehilite"><pre><span></span>    &lt;service
        android:name=&quot;.MyAutofillService&quot;
        android:label=&quot;My Autofill Service&quot;
        android:permission=&quot;android.permission.BIND_AUTOFILL_SERVICE&quot;&gt;
        &lt;intent-filter&gt;
            &lt;action android:name=&quot;android.service.autofill.AutofillService&quot; /&gt;
        &lt;/intent-filter&gt;
        &lt;meta-data
            android:name=&quot;android.autofill&quot;
            android:resource=&quot;@xml/service_configuration&quot; /&gt;
    &lt;/service&gt;
</pre></div>

<h2 id="drawable-mipmap">安卓的图像资源： drawable 和 mipmap<a class="headerlink" href="#drawable-mipmap" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>mipmapxxx/下放置APP启动图标，以及需要高质量缩放动画的图片。

其他图片资源放在drawablexxx/下。

使用图像资源的时候，可能会出现智能补全不工作的情况，重启可以解决。

另外图片资源中只可以出现小写字母、数组、下划线。忍住你的驼峰命名欲望。
</pre></div>


<h2 id="android-material-icon">Android Material Icon<a class="headerlink" href="#android-material-icon" title="Permanent link">&para;</a></h2>
<p>Android Material Icon 是一套很好看的ICON集合。要使用其实不需要下载，直接在 Android Studio 中 New-》Vector Asset，进行进一步配置即可使用。</p>
<p>注意还需要在app模块下的build文件中添加如下代码：</p>
<div class="codehilite"><pre><span></span>android {  
   defaultConfig {  
     vectorDrawables.useSupportLibrary = true  
    }  
 }
</pre></div>

<h2 id="fonts-and-fontfamily">关于字体 fonts and fontFamily<a class="headerlink" href="#fonts-and-fontfamily" title="Permanent link">&para;</a></h2>
<p>自从安卓8.0之后，安卓开始鼓励使用Downloadable Font，即不在APK中绑定字体资源文件，而是直接标记，在实际应用使用中，各应用发现自己需要使用字体时向手机中的Font provider请求。这样可以减少各应用共同字体的冗余提高效率，并且使得APK更加轻量化。但是我在使用过程中发现，国内的手机因为无法访问fonts.google.com，所以无法正常加载字体。故只能下载ttf文件并放置于fonts文件夹，以离线方式加载。不过一个英语字体文件大小在40K上下不算很占用空间。</p>
<h2 id="button-onclick">button 和 onclick<a class="headerlink" href="#button-onclick" title="Permanent link">&para;</a></h2>
<p>由于这一部分的代码经常用然而每次使用又经常记不起来，所以还是贴在这里。</p>
<div class="codehilite"><pre><span></span>// 该方法必须是public，返回值void，同时有一个View类型的参数
public void onClickChooseWordsBookButton(View view)
{
    //TODO type your code here.
}
</pre></div>

<h2 id="viewpager-bottomnavigationview-fragment">ViewPager, BottomNavigationView, Fragment 整合<a class="headerlink" href="#viewpager-bottomnavigationview-fragment" title="Permanent link">&para;</a></h2>
<p>参考下面的链接，主要的工作是设置一个 Adaptor。</p>
<p><a href="https://blog.csdn.net/qq_33198758/article/details/82753062">https://blog.csdn.net/qq_33198758/article/details/82753062</a></p>
<h2 id="listview-onitemclicklistener">ListView 的 OnItemClickListener 不响应<a class="headerlink" href="#listview-onitemclicklistener" title="Permanent link">&para;</a></h2>
<p>这个问题困扰了许久，在网络上也搜索了许多资料大多都没有什么意义。起初是怀疑在Fragment中的缘故。导致屡屡搜索不到正确的缘由。</p>
<p><a href="https://www.cnblogs.com/xilinch/archive/2012/11/07/2759265.html">https://www.cnblogs.com/xilinch/archive/2012/11/07/2759265.html</a></p>
<p><a href="https://www.cnblogs.com/yilongm/p/4742775.html">https://www.cnblogs.com/yilongm/p/4742775.html</a></p>
<p>上面的链接才真正解决了我的困惑，原来是因为ListView的条目中有Button,所以抢占了OnClick的响应和焦点。</p>
<hr />
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../calculator/" title="calculator" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  上一页
                </span>
                calculator
              </span>
            </div>
          </a>
        
        
          <a href="../zhigedesign/" title="Zhige design" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  下一页
                </span>
                Zhige design
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/Haulyn5" class="md-footer-social__link fa fa-github-alt"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
        
        
          
          <script src="../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../assets/javascripts/lunr/lunr.ja.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../js/calculator.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
      
    
  </body>
</html>